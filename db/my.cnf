[mysqld]
# Basic paths
basedir=/home/wuy/ShannonBase/cmake_build
datadir=/home/wuy/ShannonBase/db/data
tmpdir=/tmp
port=3307
bind-address=0.0.0.0
socket=/home/wuy/ShannonBase/db/mysql.sock

# Logging configuration
log_error=/home/wuy/ShannonBase/db/data/shannonbase.err
# --- General query log (records all queries) ---
general_log = 1
general_log_file = /home/wuy/ShannonBase/db/general.log

# MySQL X Plugin configuration
# Fixed from placeholder path '/home/path-to-shannon-bin/tmp/mysqlx.sock'
mysqlx_socket=/home/wuy/ShannonBase/db/mysqlx.sock
mysqlx_port=33060
# Uncomment to disable MySQL X if not needed:
# mysqlx=0

# Performance settings for data loading
innodb_buffer_pool_size=2G
innodb_log_file_size=512M
innodb_flush_log_at_trx_commit=2
innodb_flush_method=O_DIRECT
innodb_doublewrite=0

# Bulk insert optimization
bulk_insert_buffer_size=256M
max_allowed_packet=1G

# For parallel imports
max_connections=2000
innodb_thread_concurrency=0
innodb_read_io_threads=8
innodb_write_io_threads=8

# Note: foreign_key_checks must be set at runtime, not in config:
# SET GLOBAL foreign_key_checks=0;  # for faster imports
# SET GLOBAL foreign_key_checks=1;  # to re-enable

# Enable local infile for LOAD DATA
local_infile=1
secure_file_priv=

# Character set
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

[mysql]
# Client settings
port=3307
socket=/home/wuy/ShannonBase/db/mysql.sock
local_infile=1
default-character-set=utf8mb4